<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction to rvertnet • rvertnet</title>
<!-- rOpenSci favicons --><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to rvertnet">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0/dist/cookieconsent.css">
<script src="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0/dist/cookieconsent.umd.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">rvertnet</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.8.4.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="active nav-item"><a class="nav-link" href="../articles/rvertnet.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ropensci/rvertnet/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Introduction to rvertnet</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/rvertnet/blob/master/vignettes/rvertnet.Rmd" class="external-link"><code>vignettes/rvertnet.Rmd</code></a></small>
      <div class="d-none name"><code>rvertnet.Rmd</code></div>
    </div>

    
    
<p><code>rvertnet</code> is a client for interacting with <a href="http://vertnet.org/" class="external-link">VertNet.org</a>.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Stable CRAN version</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"rvertnet"</span><span class="op">)</span></span></code></pre></div>
<p>Development version from GitHub</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"ropensci/rvertnet"</span>, build_vignettes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="loading-the-package">Loading the package<a class="anchor" aria-label="anchor" href="#loading-the-package"></a>
</h2>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://docs.ropensci.org/rvertnet">'rvertnet'</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="search-by-term">Search by term<a class="anchor" aria-label="anchor" href="#search-by-term"></a>
</h2>
<p>Search for <em>Aves</em> in the state of <em>California</em>, limit
to 10 records</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/searchbyterm.html">searchbyterm</a></span><span class="op">(</span>class <span class="op">=</span> <span class="st">"Aves"</span>, state <span class="op">=</span> <span class="st">"California"</span>, limit <span class="op">=</span> <span class="fl">10</span>, messages <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>All major functions (<code><a href="../reference/searchbyterm.html">searchbyterm()</a></code>,
<code><a href="../reference/spatialsearch.html">spatialsearch()</a></code>, <code><a href="../reference/vertsearch.html">vertsearch()</a></code>) give back a
<code>meta</code> (for metadata, in a list) and <code>data</code> (for
data, in a data.frame) slot. The metadata:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span><span class="op">$</span><span class="va">meta</span></span>
<span><span class="co">#&gt; $request_date</span></span>
<span><span class="co">#&gt; [1] "2024-02-15T03:20:26.162111"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $response_records</span></span>
<span><span class="co">#&gt; [1] 10</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $submitted_query</span></span>
<span><span class="co">#&gt; [1] "class:Aves"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $request_origin</span></span>
<span><span class="co">#&gt; [1] "47.252877,-122.444291"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $limit</span></span>
<span><span class="co">#&gt; [1] 10</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $last_cursor</span></span>
<span><span class="co">#&gt; [1] "False:CskFCtIDCqQD9wAAABn_____jIGJmo2LkZqL0o-QjYuek96WkZuah9LNz87M0s_H0s_H_wAA_3RtoKCZi4ygoP8AAP9dno-PmpGYlpGa_wAA_3N0bZaRm5qH_wAA_12biJz_AAD_c3Rtm5CcoJab_wAA_12ektCQjZGWi5eQk5CYhtDPz87GmcjGztLGzcbJ0svPzprSxsfGy9Kdycqcz53NnMfGnpv_AAD_c3-ektCQjZGWi5eQk5CYhtDPz87GmcjGztLGzcbJ0svPzprSxsfGy9Kdycqcz53NnMfGnpv_AAD__wD-__6MgYmajYuRmovSj5CNi56T3paRm5qH0s3PzszSz8fSz8f_AHRtoKCZi4ygoP8AXZ6Pj5qRmJaRmv8Ac3RtlpGbmof_AF2biJz_AHN0bZuQnKCWm_8AXZ6S0JCNkZaLl5CTkJiG0M_PzsaZyMbO0sbNxsnSy8_OmtLGx8bL0p3JypzPnc2cx8aem_8Ac3-ektCQjZGWi5eQk5CYhtDPz87GmcjGztLGzcbJ0svPzprSxsfGy9Kdycqcz53NnMfGnpv_AP_-EAohBN0EkB08Gxk5AAAAAOb___9IClAAWgsJJ5Q__S_keXEQA2D6k__lBRINRG9jdW1lbnRJbmRleBrAAShBTkQgKElTICJjdXN0b21lcl9uYW1lIiAiYXBwZW5naW5lIikgKElTICJncm91cF9uYW1lIiAic352ZXJ0bmV0LXBvcnRhbCIpIChJUyAibmFtZXNwYWNlIiAiaW5kZXgtMjAxMy0wOC0wOCIpIChJUyAiaW5kZXhfbmFtZSIgImR3YyIpIChPUiAoUVQgIkF2ZXMiICJydGV4dF9jbGFzcyIpIChJUyAicmF0b21fY2xhc3MiICJhdmVzIikpKToZCgwoTiBvcmRlcl9pZCkQARkAAAAAAADw_0oFCABA6Ac"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $query_version</span></span>
<span><span class="co">#&gt; [1] "search.py 2016-08-15T16:43+02:00"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $matching_records</span></span>
<span><span class="co">#&gt; [1] "&gt;10000"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $api_version</span></span>
<span><span class="co">#&gt; [1] "api.py 2017-11-24T12:16-03:00"</span></span></code></pre></div>
<p>Inspect data. A <code>tibble</code> is returned, so you get a nice
brief data summary:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span><span class="op">$</span><span class="va">data</span></span>
<span><span class="co">#&gt; # A tibble: 10 × 46</span></span>
<span><span class="co">#&gt;    kingdom  recordedby    higherclassification stateprovince basisofrecord month</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;    &lt;chr&gt;         &lt;chr&gt;                &lt;chr&gt;         &lt;chr&gt;         &lt;chr&gt;</span></span>
<span><span class="co">#&gt;  1 Animalia NSW STATE GO… Animalia | Chordata… New South Wa… PreservedSpe… 11   </span></span>
<span><span class="co">#&gt;  2 Animalia TARONGA ZOO … Animalia | Chordata… New South Wa… PreservedSpe… 6    </span></span>
<span><span class="co">#&gt;  3 Animalia MCLENNAN, MR… Animalia | Chordata… Queensland    PreservedSpe… 4    </span></span>
<span><span class="co">#&gt;  4 Animalia WATTS, MIKE   Animalia | Chordata… New South Wa… PreservedSpe… 1    </span></span>
<span><span class="co">#&gt;  5 Animalia HOLCOMBE, B.  Animalia | Chordata… New South Wa… PreservedSpe… 7    </span></span>
<span><span class="co">#&gt;  6 Animalia RHODES, C. A. Animalia | Chordata… New South Wa… PreservedSpe… 10   </span></span>
<span><span class="co">#&gt;  7 Animalia C. HEDLEY, A… Animalia | Chordata… Queensland    PreservedSpe… 10   </span></span>
<span><span class="co">#&gt;  8 Animalia ROBINSON, SEP Animalia | Chordata… New South Wa… PreservedSpe… 10   </span></span>
<span><span class="co">#&gt;  9 Animalia SHARP, GEORGE Animalia | Chordata… Queensland    PreservedSpe… 11   </span></span>
<span><span class="co">#&gt; 10 Animalia J.A. KEAST, … Animalia | Chordata… New South Wa… PreservedSpe… 3    </span></span>
<span><span class="co">#&gt; # ℹ 40 more variables: decimallongitude &lt;chr&gt;, phylum &lt;chr&gt;, references &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   year &lt;chr&gt;, startdayofyear &lt;chr&gt;, taxonrank &lt;chr&gt;, specificepithet &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   bibliographiccitation &lt;chr&gt;, family &lt;chr&gt;, countrycode &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   geodeticdatum &lt;chr&gt;, coordinateuncertaintyinmeters &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   highergeography &lt;chr&gt;, accessrights &lt;chr&gt;, verbatimlocality &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   verbatimeventdate &lt;chr&gt;, day &lt;chr&gt;, eventid &lt;chr&gt;, collectioncode &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   occurrencestatus &lt;chr&gt;, locationremarks &lt;chr&gt;, coordinateprecision &lt;chr&gt;, …</span></span></code></pre></div>
<p>Search for <em>Mustela nigripes</em> in the states of
<em>Wyoming</em> or <em>South Dakota</em>, limit to 20 records</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/searchbyterm.html">searchbyterm</a></span><span class="op">(</span>specificepithet <span class="op">=</span> <span class="st">"nigripes"</span>, genus <span class="op">=</span> <span class="st">"Mustela"</span>, state <span class="op">=</span> <span class="st">"(wyoming OR south dakota)"</span>, limit <span class="op">=</span> <span class="fl">20</span>, messages <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">res</span><span class="op">$</span><span class="va">data</span></span>
<span><span class="co">#&gt; # A tibble: 20 × 76</span></span>
<span><span class="co">#&gt;    month decimallongitude startdayofyear accessrights                    kingdom</span></span>
<span><span class="co">#&gt;    &lt;chr&gt; &lt;chr&gt;            &lt;chr&gt;          &lt;chr&gt;                           &lt;chr&gt;  </span></span>
<span><span class="co">#&gt;  1 1     -88.305352       1              http://vertnet.org/resources/n… Animal…</span></span>
<span><span class="co">#&gt;  2 03    -104.77472       74             http://vertnet.org/resources/n… Animal…</span></span>
<span><span class="co">#&gt;  3 02    -103.731861      52             http://vertnet.org/resources/n… Animal…</span></span>
<span><span class="co">#&gt;  4 12    -105.0137067407  349            http://vertnet.org/resources/n… Animal…</span></span>
<span><span class="co">#&gt;  5 2     -103.067931      32             http://vertnet.org/resources/n… Animal…</span></span>
<span><span class="co">#&gt;  6 1     -103.067931      1              http://vertnet.org/resources/n… Animal…</span></span>
<span><span class="co">#&gt;  7 02    -103.067931      40             http://vertnet.org/resources/n… Animal…</span></span>
<span><span class="co">#&gt;  8 05    -104.926320116   126            http://vertnet.org/resources/n… Animal…</span></span>
<span><span class="co">#&gt;  9 02    -104.79742       42             http://vertnet.org/resources/n… Animal…</span></span>
<span><span class="co">#&gt; 10 04    -106.1329632593  108            http://vertnet.org/resources/n… Animal…</span></span>
<span><span class="co">#&gt; 11 10    -105.064706      304            http://vertnet.org/resources/n… Animal…</span></span>
<span><span class="co">#&gt; 12 4     -106.3467709375  92             http://vertnet.org/resources/n… Animal…</span></span>
<span><span class="co">#&gt; 13 05    -104.225829      133            http://vertnet.org/resources/n… Animal…</span></span>
<span><span class="co">#&gt; 14 09    -105.873904      258            http://vertnet.org/resources/n… Animal…</span></span>
<span><span class="co">#&gt; 15 12    -105.298898      362            http://vertnet.org/resources/n… Animal…</span></span>
<span><span class="co">#&gt; 16 06    -105.376986      152            http://vertnet.org/resources/n… Animal…</span></span>
<span><span class="co">#&gt; 17 11    -104.3831505257  305            http://vertnet.org/resources/n… Animal…</span></span>
<span><span class="co">#&gt; 18 11    -104.7714765     314            http://vertnet.org/resources/n… Animal…</span></span>
<span><span class="co">#&gt; 19 09    -106.9094        267            http://vertnet.org/resources/n… Animal…</span></span>
<span><span class="co">#&gt; 20 08    -107.5579841     234            http://vertnet.org/resources/n… Animal…</span></span>
<span><span class="co">#&gt; # ℹ 71 more variables: verbatimcoordinatesystem &lt;chr&gt;, day &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   identificationverificationstatus &lt;chr&gt;, occurrenceid &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   identificationqualifier &lt;chr&gt;, georeferenceddate &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   verbatimeventdate &lt;chr&gt;, coordinateuncertaintyinmeters &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   higherclassification &lt;chr&gt;, sex &lt;chr&gt;, year &lt;chr&gt;, specificepithet &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   basisofrecord &lt;chr&gt;, geodeticdatum &lt;chr&gt;, occurrenceremarks &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   highergeography &lt;chr&gt;, continent &lt;chr&gt;, scientificname &lt;chr&gt;, …</span></span></code></pre></div>
<p>Search for class <em>Aves</em>, in the state of <em>Nevada</em>, with
a coordinate uncertainty range (in meters) of less than 25 meters</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/searchbyterm.html">searchbyterm</a></span><span class="op">(</span>class <span class="op">=</span> <span class="st">"Aves"</span>, stateprovince <span class="op">=</span> <span class="st">"Nevada"</span>, error <span class="op">=</span> <span class="st">"&lt;25"</span>, messages <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">res</span><span class="op">$</span><span class="va">data</span></span>
<span><span class="co">#&gt; # A tibble: 1,000 × 91</span></span>
<span><span class="co">#&gt;    georeferenceprotocol       higherclassification stateprovince lifestage month</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                      &lt;chr&gt;                &lt;chr&gt;         &lt;chr&gt;     &lt;chr&gt;</span></span>
<span><span class="co">#&gt;  1 MaNIS/HerpNet/ORNIS Geore… Animalia; Chordata;… Nevada        U-Ad.     3    </span></span>
<span><span class="co">#&gt;  2 MaNIS/HerpNet/ORNIS Geore… Animalia; Chordata;… Nevada        U-Ad      12   </span></span>
<span><span class="co">#&gt;  3 MaNIS/HerpNet/ORNIS Geore… Animalia; Chordata;… Nevada        Nestling  5    </span></span>
<span><span class="co">#&gt;  4 MaNIS/HerpNet/ORNIS Geore… Animalia; Chordata;… Nevada        U-Ad.     9    </span></span>
<span><span class="co">#&gt;  5 MaNIS/HerpNet/ORNIS Geore… Animalia; Chordata;… Nevada        U-Ad.     9    </span></span>
<span><span class="co">#&gt;  6 MaNIS/HerpNet/ORNIS Geore… Animalia; Chordata;… Nevada        U-Ad.     9    </span></span>
<span><span class="co">#&gt;  7 MaNIS/HerpNet/ORNIS Geore… Animalia; Chordata;… Nevada        Downy     6    </span></span>
<span><span class="co">#&gt;  8 MaNIS/HerpNet/ORNIS Geore… Animalia; Chordata;… Nevada        U-Ad.     6    </span></span>
<span><span class="co">#&gt;  9 MaNIS/HerpNet/ORNIS Geore… Animalia; Chordata;… Nevada        U-Ad.     6    </span></span>
<span><span class="co">#&gt; 10 MaNIS/HerpNet/ORNIS Geore… Animalia; Chordata;… Nevada        U-Ad.     6    </span></span>
<span><span class="co">#&gt; # ℹ 990 more rows</span></span>
<span><span class="co">#&gt; # ℹ 86 more variables: decimallongitude &lt;chr&gt;, phylum &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   verbatimlongitude &lt;chr&gt;, year &lt;chr&gt;, specificepithet &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   bibliographiccitation &lt;chr&gt;, verbatimlatitude &lt;chr&gt;, family &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   locality &lt;chr&gt;, geodeticdatum &lt;chr&gt;, coordinateuncertaintyinmeters &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   highergeography &lt;chr&gt;, continent &lt;chr&gt;, scientificnameauthorship &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   day &lt;chr&gt;, kingdom &lt;chr&gt;, institutioncode &lt;chr&gt;, scientificname &lt;chr&gt;, …</span></span></code></pre></div>
<div class="section level3">
<h3 id="dplyr-downstream">dplyr downstream<a class="anchor" aria-label="anchor" href="#dplyr-downstream"></a>
</h3>
<p>You can pass the data object directly on to <code>dplyr</code>
functions. Here, we get a table of record counts by species in
descending order.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://dplyr.tidyverse.org" class="external-link">"dplyr"</a></span><span class="op">)</span></span>
<span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/searchbyterm.html">searchbyterm</a></span><span class="op">(</span>genus <span class="op">=</span> <span class="st">"Ochotona"</span>, limit <span class="op">=</span> <span class="fl">800</span><span class="op">)</span></span>
<span><span class="va">out</span><span class="op">$</span><span class="va">data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">scientificname</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">scientificname</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">count</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 20 × 2</span></span>
<span><span class="co">#&gt;    scientificname                  count</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                           &lt;int&gt;</span></span>
<span><span class="co">#&gt;  1 Ochotona princeps                 450</span></span>
<span><span class="co">#&gt;  2 Ochotona pallasi                  129</span></span>
<span><span class="co">#&gt;  3 Ochotona princeps saxatilis       103</span></span>
<span><span class="co">#&gt;  4 Ochotona hyperborea                30</span></span>
<span><span class="co">#&gt;  5 Ochotona dauurica                  21</span></span>
<span><span class="co">#&gt;  6 Ochotona collaris                  15</span></span>
<span><span class="co">#&gt;  7 Ochotona princeps figginsi         14</span></span>
<span><span class="co">#&gt;  8 Ochotona princeps taylori           8</span></span>
<span><span class="co">#&gt;  9 Ochotona princeps schisticeps       6</span></span>
<span><span class="co">#&gt; 10 Ochotona alpina                     4</span></span>
<span><span class="co">#&gt; 11 Ochotona princeps muiri             4</span></span>
<span><span class="co">#&gt; 12 Ochotona hyperborea mantchurica     3</span></span>
<span><span class="co">#&gt; 13 Ochotona princeps incana            3</span></span>
<span><span class="co">#&gt; 14 Ochotona princeps princeps          3</span></span>
<span><span class="co">#&gt; 15 Ochotona princeps murri             2</span></span>
<span><span class="co">#&gt; 16 Ochotona princeps brunnescens       1</span></span>
<span><span class="co">#&gt; 17 Ochotona princeps jewetti           1</span></span>
<span><span class="co">#&gt; 18 Ochotona princeps tutelata          1</span></span>
<span><span class="co">#&gt; 19 Ochotona princeps uinta             1</span></span>
<span><span class="co">#&gt; 20 Ochotona princeps ventorum          1</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="spatial-search">Spatial search<a class="anchor" aria-label="anchor" href="#spatial-search"></a>
</h2>
<p>Spatial search service allows only to search on a point defined by
latitude and longitude pair, with a radius (meters) from that point. All
three parameters are required.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spatialsearch.html">spatialsearch</a></span><span class="op">(</span>lat <span class="op">=</span> <span class="fl">33.529</span>, lon <span class="op">=</span> <span class="op">-</span><span class="fl">105.694</span>, radius <span class="op">=</span> <span class="fl">2000</span>, limit <span class="op">=</span> <span class="fl">10</span>, messages <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">res</span><span class="op">$</span><span class="va">data</span></span>
<span><span class="co">#&gt; # A tibble: 10 × 62</span></span>
<span><span class="co">#&gt;    month decimallongitude startdayofyear minimumelevationinmeters accessrights  </span></span>
<span><span class="co">#&gt;    &lt;chr&gt; &lt;chr&gt;            &lt;chr&gt;          &lt;chr&gt;                    &lt;chr&gt;         </span></span>
<span><span class="co">#&gt;  1 07    -105.68633       193            2182.368                 http://vertne…</span></span>
<span><span class="co">#&gt;  2 07    -105.705479      196            2023.872                 http://vertne…</span></span>
<span><span class="co">#&gt;  3 07    -105.705479      196            2023.872                 http://vertne…</span></span>
<span><span class="co">#&gt;  4 07    -105.705479      196            2023.872                 http://vertne…</span></span>
<span><span class="co">#&gt;  5 07    -105.705479      196            2023.872                 http://vertne…</span></span>
<span><span class="co">#&gt;  6 07    -105.705479      196            2023.872                 http://vertne…</span></span>
<span><span class="co">#&gt;  7 07    -105.705479      196            2023.872                 http://vertne…</span></span>
<span><span class="co">#&gt;  8 07    -105.705479      196            2023.872                 http://vertne…</span></span>
<span><span class="co">#&gt;  9 07    -105.705479      196            2023.872                 http://vertne…</span></span>
<span><span class="co">#&gt; 10 07    -105.705479      196            2023.872                 http://vertne…</span></span>
<span><span class="co">#&gt; # ℹ 57 more variables: kingdom &lt;chr&gt;, day &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   identificationverificationstatus &lt;chr&gt;, occurrenceid &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   identificationqualifier &lt;chr&gt;, georeferenceddate &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   verbatimeventdate &lt;chr&gt;, coordinateuncertaintyinmeters &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   higherclassification &lt;chr&gt;, sex &lt;chr&gt;, year &lt;chr&gt;, specificepithet &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   basisofrecord &lt;chr&gt;, geodeticdatum &lt;chr&gt;, occurrenceremarks &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   highergeography &lt;chr&gt;, continent &lt;chr&gt;, scientificname &lt;chr&gt;, …</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="global-full-text-search">Global full text search<a class="anchor" aria-label="anchor" href="#global-full-text-search"></a>
</h2>
<p><code><a href="../reference/vertsearch.html">vertsearch()</a></code> provides a simple full text search against
all fields. For more info see <a href="https://github.com/VertNet/webapp/wiki/The-API-search-function#global-full-text-search" class="external-link">the
docs</a>. An example:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/vertsearch.html">vertsearch</a></span><span class="op">(</span>taxon <span class="op">=</span> <span class="st">"aves"</span>, state <span class="op">=</span> <span class="st">"california"</span>, limit <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">res</span><span class="op">$</span><span class="va">data</span></span>
<span><span class="co">#&gt; # A tibble: 10 × 57</span></span>
<span><span class="co">#&gt;    higherclassification       stateprovince basisofrecord month decimallongitude</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                      &lt;chr&gt;         &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt;           </span></span>
<span><span class="co">#&gt;  1 Animalia | Chordata |  | … California    PreservedSpe… 2     -121.7833       </span></span>
<span><span class="co">#&gt;  2 Animalia | Chordata |  | … California    PreservedSpe… 6     -122.15         </span></span>
<span><span class="co">#&gt;  3 Animalia | Chordata |  | … California    PreservedSpe… 5     -120.9014       </span></span>
<span><span class="co">#&gt;  4 Animalia; Chordata; Aves;… South Caroli… PreservedSpe… 2     -79.86151       </span></span>
<span><span class="co">#&gt;  5 Animalia; Chordata; Aves;… California    PreservedSpe… 1     -121.93300      </span></span>
<span><span class="co">#&gt;  6 Animalia; Chordata; Aves;… California    PreservedSpe… 1     -121.93300      </span></span>
<span><span class="co">#&gt;  7 Animalia; Chordata; Aves;… California    PreservedSpe… 7     -121.85760      </span></span>
<span><span class="co">#&gt;  8 Animalia; Chordata; Aves;… California    PreservedSpe… 7     -121.85760      </span></span>
<span><span class="co">#&gt;  9 Animalia; Chordata; Aves;… California    PreservedSpe… 7     -121.85760      </span></span>
<span><span class="co">#&gt; 10 Animalia; Chordata; Aves;… California    PreservedSpe… 7     -121.85760      </span></span>
<span><span class="co">#&gt; # ℹ 52 more variables: phylum &lt;chr&gt;, references &lt;chr&gt;, year &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   startdayofyear &lt;chr&gt;, taxonrank &lt;chr&gt;, specificepithet &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   bibliographiccitation &lt;chr&gt;, family &lt;chr&gt;, countrycode &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   geodeticdatum &lt;chr&gt;, coordinateuncertaintyinmeters &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   highergeography &lt;chr&gt;, continent &lt;chr&gt;, verbatimlocality &lt;chr&gt;, day &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   kingdom &lt;chr&gt;, collectioncode &lt;chr&gt;, occurrencestatus &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   coordinateprecision &lt;chr&gt;, institutioncode &lt;chr&gt;, scientificname &lt;chr&gt;, …</span></span></code></pre></div>
<p>Limit the number of records returned (under 1000)</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/vertsearch.html">vertsearch</a></span><span class="op">(</span><span class="st">"(kansas state OR KSU)"</span>, limit <span class="op">=</span> <span class="fl">200</span><span class="op">)</span></span>
<span><span class="va">res</span><span class="op">$</span><span class="va">data</span></span>
<span><span class="co">#&gt; # A tibble: 200 × 78</span></span>
<span><span class="co">#&gt;    individualcount georeferenceprotocol         recordedby bibliographiccitation</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;           &lt;chr&gt;                        &lt;chr&gt;      &lt;chr&gt;                </span></span>
<span><span class="co">#&gt;  1 8               GEOLocate (Rios &amp; Bart, 201… H. W. Rob… Academy of Natural S…</span></span>
<span><span class="co">#&gt;  2 11              GEOLocate (Rios &amp; Bart, 201… H. W. Rob… Academy of Natural S…</span></span>
<span><span class="co">#&gt;  3 3               GEOLocate (Rios &amp; Bart, 201… H. W. Rob… Academy of Natural S…</span></span>
<span><span class="co">#&gt;  4 &lt;NA&gt;            &lt;NA&gt;                         &lt;NA&gt;       California Academy o…</span></span>
<span><span class="co">#&gt;  5 &lt;NA&gt;            &lt;NA&gt;                         &lt;NA&gt;       California Academy o…</span></span>
<span><span class="co">#&gt;  6 &lt;NA&gt;            &lt;NA&gt;                         &lt;NA&gt;       California Academy o…</span></span>
<span><span class="co">#&gt;  7 1               VertNet Georeferencing Guid… MCCOY, C … Carnegie Museum of N…</span></span>
<span><span class="co">#&gt;  8 1               VertNet Georeferencing Guid… MCCOY, C … Carnegie Museum of N…</span></span>
<span><span class="co">#&gt;  9 1               VertNet Georeferencing Guid… MCCOY, C … Carnegie Museum of N…</span></span>
<span><span class="co">#&gt; 10 1               VertNet Georeferencing Guid… MCCOY, C … Carnegie Museum of N…</span></span>
<span><span class="co">#&gt; # ℹ 190 more rows</span></span>
<span><span class="co">#&gt; # ℹ 74 more variables: stateprovince &lt;chr&gt;, basisofrecord &lt;chr&gt;, month &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   decimallongitude &lt;chr&gt;, phylum &lt;chr&gt;, references &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   georeferencedby &lt;chr&gt;, year &lt;chr&gt;, taxonrank &lt;chr&gt;, specificepithet &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   family &lt;chr&gt;, countrycode &lt;chr&gt;, locality &lt;chr&gt;, geodeticdatum &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   coordinateuncertaintyinmeters &lt;chr&gt;, highergeography &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   continent &lt;chr&gt;, day &lt;chr&gt;, kingdom &lt;chr&gt;, georeferenceddate &lt;chr&gt;, …</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="lots-of-data">Lots of data<a class="anchor" aria-label="anchor" href="#lots-of-data"></a>
</h2>
<p>For <code><a href="../reference/searchbyterm.html">searchbyterm()</a></code>, <code><a href="../reference/spatialsearch.html">spatialsearch()</a></code>, and
<code><a href="../reference/vertsearch.html">vertsearch()</a></code>, you can request more than 1000 records.
VertNet limits each request to 1000 records, but internally in this
package, if you request more than 1000 records, we’ll continue to send
requests to get all the records you want. See the <a href="https://github.com/VertNet/webapp/wiki/The-API-search-function#retrieving-large-result-sets" class="external-link">VertNet
docs</a> for more information on this.</p>
</div>
<div class="section level2">
<h2 id="email-dump-of-data">Email dump of data<a class="anchor" aria-label="anchor" href="#email-dump-of-data"></a>
</h2>
<p><code><a href="../reference/bigsearch.html">bigsearch()</a></code> specifies a termwise search (like
<code><a href="../reference/searchbyterm.html">searchbyterm()</a></code>), but requests that all available records be
made available for download as a tab-delimited text file.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/bigsearch.html">bigsearch</a></span><span class="op">(</span>genus <span class="op">=</span> <span class="st">"ochotona"</span>, rfile <span class="op">=</span> <span class="st">"mydata"</span>, email <span class="op">=</span> <span class="st">"you@gmail.com"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Processing request...</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Download of records file 'mydata' requested for 'you@gmail.com'</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Query/URL: "http://api.vertnet-portal.appspot.com/api/download?q=%7B%22q%22:%22genus:ochotona%22,%22n%22:%22mydata%22,%22e%22:%22you@gmail.com%22%7D"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Thank you! Download instructions will be sent by email.</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="messages">Messages<a class="anchor" aria-label="anchor" href="#messages"></a>
</h2>
<p>In the previous examples, we’ve suppressed messages for more concise
output, but you can set <code>messages=TRUE</code> to get helpful
messages - <code>messages=TRUE</code> is also the default setting so if
you don’t specify that parameter messages will be printed to the
console.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/searchbyterm.html">searchbyterm</a></span><span class="op">(</span>class <span class="op">=</span> <span class="st">"Aves"</span>, state <span class="op">=</span> <span class="st">"California"</span>, limit <span class="op">=</span> <span class="fl">10</span>, messages <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>





  </body>
</html>
